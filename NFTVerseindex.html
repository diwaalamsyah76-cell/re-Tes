<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Login - NFTVerse, NFT Marketplace</title>
  <title>Menu Profile</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/ethers@5.7.2/dist/ethers.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/web3.storage/dist/bundle.esm.min.js"></script>
<script src="nft.js"></script>
<script src="https://cdn.jsdelivr.net/npm/web3.storage/dist/bundle.esm.min.js"></script>
<script src="ipfs.js"></script>
<script src="wallet.js"></script>

<script src="https://cdn.jsdelivr.net/npm/ethers@5.7.2/dist/ethers.min.js">
function showWalletSidebar(address, balance, nftCount) {
  const rbox = document.getElementById("RBox");
  rbox.style.display = "block";
  setTimeout(() => rbox.classList.add("active"), 10);
  document.getElementById("sidebarWalletAddress").textContent = address;
  document.getElementById("sidebarWalletBalance").textContent = balance;
  document.getElementById("sidebarNftCount").textContent = nftCount;
}


function hideWalletSidebar() {
  const rbox = document.getElementById("RBox");
  rbox.classList.remove("active");
  setTimeout(() => rbox.style.display = "none", 400);
}

</script>
  <!-- 1. Import Web3.Storage sebagai module -->
<script type="module">
  import { Web3Storage } from 'https://unpkg.com/web3.storage/dist/bundle.esm.min.js';

  // Fungsi kamu diletakkan di sini atau di bawah, tetap dalam module
  function showWalletSidebar(address, balance, nftCount) {
    const rbox = document.getElementById("RBox");
    rbox.style.display = "block";
    setTimeout(() => rbox.classList.add("active"), 10);
    document.getElementById("sidebarWalletAddress").textContent = address;
    document.getElementById("sidebarWalletBalance").textContent = balance;
    document.getElementById("sidebarNftCount").textContent = nftCount;
  }

  function hideWalletSidebar() {
    const rbox = document.getElementById("RBox");
    rbox.classList.remove("active");
    setTimeout(() => rbox.style.display = "none", 400);
  }

  // Kamu juga bisa pakai export atau window.showWalletSidebar = function... jika di luar module ingin memanggilnya.
</script>


  <style>
    body {
      margin: 0;
      font-family: 'Inter', sans-serif;
      background-color: #0d0d0d;
      color: white;
    }
    .menu-button {
      font-size: 14px;
      padding: 10px;
      cursor: pointer;
      background-color: #333;
      color: white;
      border: none;
      position: fixed;
      top: 1rem;
      left: 1rem;
      z-index: 1100;
    }
    .sidebar {
      position: fixed;
      top: 0;
      left: -250px;
      width: 250px;
      height: 100%;
      background-color: #444;
      color: white;
      margin-top: 0px;
      transition: left 0.3s ease;
      z-index: 1000;
    }
    .sidebar.active {
      left: 0;
    }

    .layout {
      display: table;
      width: 100%;
      height: 100vh;
    }

    #raw {
      display: table-cell;
      width: 260px;
      vertical-align: top;
      background-color: #ffffff;
      box-shadow: 2px 0 5px rgba(0,0,0,0.1);
    }

    #content {
      display: table-cell;
      padding: 2rem;
      vertical-align: top;
    }
      .profile-menu {
  width: 250px;
  background: #1c1c1c;
  border-radius: 10px;
  box-shadow: 0 2px 0px rgba(0,0,0,0.4);
  overflow-y: auto;       /* ✅ scroll secara vertikal */
  max-height: 80vh;       /* ✅ batas tinggi maksimal */
  margin: 3rem auto;
  color: white;
}

.profile-header {
  background: #5c6df2;
  vertical-align: top;
  color: #fff;
  padding: 20px;
  text-align: center;
}
.profile-header img {
  width: 80px;
  height: 80px;
  border-radius: 50%;
  margin-bottom: 10px;
  border: 1px solid #fff;
}
.profile-header h3 {
  margin: 0;
  font-size: 5px;
}
.profile-links {
  list-style: none;
  padding: 0;
  margin: 0;
}
.profile-links li {
  border-top: 1px solid #2a2a2a;
}
.profile-links a {
  display: table-cell;
  padding: 10px 15px;
  color: #ccc;
  text-decoration: none;
  transition: background 0.3s;
}
.profile-links a:hover {
  background: #333;
  color: #fff;
}

#dashboard-section {
  padding: 3rem 2rem;
  background: #121212;
  color: white;
}

.dashboard-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  gap: 2rem;
  margin-top: 2rem;
}

.dashboard-card {
  background: #1e1e1e;
  border: 1px solid #2a2a2a;
  border-radius: 12px;
  padding: 2rem;
  text-align: center;
  transition: transform 0.2s;
}

.dashboard-card:hover {
  transform: translateY(-5px);
}

.dashboard-card h3 {
  font-size: 1.5rem;
  margin-bottom: 0.5rem;
}

.dashboard-card p {
  font-size: 1.2rem;
  color: #ccc;
}

    .sidebar a {
      display: block;
      padding: 16px;
      color: white;
      text-decoration: none;
    }
    .sidebar a:hover {
      background-color: #555;
    }
    header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 1rem 3rem;
      background: #121212;
      border-bottom: 1px solid #2a2a2a;
    }
    .logo {
      font-size: 1.5rem;
      font-weight: 600;
      color: #ffffff;
    }
        nav ul {
      display: flex;
      list-style: none;
      padding: 0;
      margin: 0;
    }
    nav a {
      color: #ccc;
      margin: 0 1rem;
      text-decoration: none;
    }
    nav a:hover {
      color: #fff;
    }
    .wallet-info-slider {
      background-color: #1c1c1c;
      border: 1px solid #333;
      padding: 1rem;
      border-radius: 10px;
      margin-left: 1rem;
      display: inline-block;
      min-width: 220px;
      font-size: 0.9rem;
      line-height: 1.4;
    }
   .wallet-info-slider p {
     margin: 0.3rem 0;
     color: #ccc;
    }
   .wallet-info-slider strong {
      color: #fff;
    }

    nav ul {
      display: flex;
      list-style: none;
      padding: 0;
      margin: 0;
    }
    nav a {
      color: #ccc;
      margin: 0 1rem;
      text-decoration: none;
    }
    nav a:hover {
      color: #fff;
    }
    .wallet-btn {
      background: #5c6df2;
      border: none;
      padding: 0.4rem 1rem;
      border-radius: 5px;
      color: white;
      font-weight: 600;
      cursor: pointer;
    }
    .wallet-btn:hover {
      background-color: #0056b3;
    }
.hero {
  display: flex;
  flex-wrap: wrap;
  justify-content: space-between;
  align-items: center;
  background: linear-gradient(135deg, #1f1f1f, #111);
  padding: 4rem 3rem;
  gap: 2rem;
}

.hero-right {
  flex: 1 1 50%;
  color: white;
}

.hero-right h1 {
  font-size: 3rem;
  margin-bottom: 1rem;
}

.hero-right p {
  font-size: 1.2rem;
  margin-bottom: 2rem;
  color: #ccc;
}

.hero-right button {
  background: #5c6df2;
  border: none;
  padding: 1rem 2rem;
  border-radius: 10px;
  color: white;
  font-size: 1rem;
  cursor: pointer;
}

.hero-right button:hover {
  background: #4a56e2;
}


    .hero h1 {
      font-size: 3rem;
      margin-bottom: 1rem;
    }
    .hero p {
      color: #aaa;
      font-size: 1.2rem;
      margin-bottom: 2rem;
    }
    .hero button {
      background: #5c6df2;
      border: none;
      padding: 1rem 2rem;
      border-radius: 10px;
      font-size: 1rem;
      color: white;
      cursor: pointer;
    }
    .section-title {
      text-align: center;
      font-size: 2rem;
      margin: 3rem 0 1rem;
    }
    .nft-gallery {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
      gap: 2rem;
      padding: 0 3rem 4rem;
    }
    .nft-card {
      background: #1c1c1c;
      border-radius: 12px;
      overflow: hidden;
      padding: 1rem;
      transition: transform 0.2s ease;
    }
    .nft-card:hover {
      transform: scale(1.02);
    }
    .nft-card img {
      width: 100%;
      border-radius: 10px;
    }
    .nft-card p {
      color: #aaa;
      font-size: 0.9rem;
    }
    footer {
      padding: 2rem 3rem;
      text-align: center;
      background: #121212;
      border-top: 1px solid #2a2a2a;
      color: #777;
    }
    .login-box, .user-menu {
      background-color: #333;
      padding: 2rem;
      border-radius: 10px;
      width: 90%;
      max-width: 400px;
      margin: 5rem auto;
      color: white;
      text-align: center;
      display: none;
    }
    .login-box input {
      width: 100%;
      padding: 0.8rem;
      margin-top: 0.5rem;
      border-radius: 8px;
      border: 1px solid #444;
      background-color: #2a2a2a;
      color: white;
      font-size: 1rem;
    }
    .login-btn, .logout-btn {
      background-color: #5c6df2;
      color: white;
      border: none;
      padding: 1rem 2rem;
      border-radius: 8px;
      margin-top: 1.5rem;
      cursor: pointer;
      font-size: 1.1rem;
    }
    .logout-btn {
      background-color: #e74c3c;
    }
    .message {
      margin-top: 1rem;
      font-size: 1rem;
      color: #ff6b6b;
    }
    .message.success { ... }
      color: #2ecc71;

  /* Create Section Styles */
    #create-section {
    background-color: #1c1c1c;
    padding: 3rem 2rem;
    color: white;
    border-radius: 10px;
    margin: 3rem auto;
    width: 80%;
    max-width: 900px;
    text-align: center;
  }

  .create-form {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
    justify-content: center;
    align-items: center;
    margin-top: 2rem;
  }

  .create-form label {
    font-size: 1.1rem;
    color: #ccc;
    align-self: flex-start;
  }

  .create-form input,
  .create-form textarea {
    width: 100%;
    padding: 0.8rem;
    border-radius: 8px;
    border: 1px solid #444;
    background-color: #2a2a2a;
    color: white;
    font-size: 1rem;
  }

  .create-form input[type="file"] {
    padding: 0.5rem;
  }

  .create-form textarea {
    min-height: 100px;
    resize: vertical;
  }

  .create-form input:focus,
  .create-form textarea:focus {
    outline: none;
    border-color: #5c6df2;
  }

  .create-btn {
    background-color: #5c6df2;
    color: white;
    border: none;
    padding: 1rem 2rem;
    border-radius: 8px;
    font-size: 1.1rem;
    cursor: pointer;
    transition: background-color 0.3s;
  }

  .create-btn:hover {
    background-color: #4a56e2;
  }

  .feedback-message {
    margin-top: 2rem;
    font-size: 1rem;
    color: #ff6b6b;
  }

  /* Success Message Style */
  .feedback-message.success {
    color: #2ecc71;
  }
  .wallet-info-slider {
  background-color: #1c1c1c;
  border: 1px solid #333;
  padding: 1rem;
  border-radius: 10px;
  margin-left: 1rem;
  display: inline-block;
  min-width: 220px;
  font-size: 0.9rem;
  line-height: 1.4;
  }
  .wallet-info-slider p {
  margin: 0.3rem 0;
  color: #ccc;
  } 
  .wallet-info-slider strong {
  color: #fff;
  }
  #RBox.login-box {
  position: fixed;
  top: 60px;
  right: 0;
  width: 250px;
  background: #222;
  border-left: 1px solid #444;
  z-index: 999;
  display: none;
  }

  #RBox.login-box {
    right: -370px;
    transition: right 0.4s ease;
  }
  #RBox.login-box.active {
    right: 0;
  }
  #metis-instagram-api-box {
    position: fixed;
    top: 60px;
    right: -370px;
    width: 250px;
    background: #222;
    border-left: 1px solid #444;
    z-index: 999;
    transition: right 0.4s ease;
    display: none;
  }

  #metis-instagram-api-box.active {
    right: 0;
    display: block;
  }
  .hero {
  display: flex;
  flex-direction: row-reverse; /* ⬅️ Ini membalik layout dari kanan ke kiri */
  flex-wrap: wrap;
  justify-content: space-between;
  align-items: center;
  background: linear-gradient(135deg, #1f1f1f, #111);
  padding: 4rem 3rem;
  gap: 2rem;
}

.hero-right {
  flex: 1 1 50%;
  color: white;
}

.hero-right h1 {
  font-size: 3rem;
  margin-bottom: 1rem;
}

.hero-right p {
  font-size: 1.2rem;
  margin-bottom: 2rem;
  color: #ccc;
}

.hero-right button {
  background: #5c6df2;
  border: none;
  padding: 1rem 2rem;
  border-radius: 10px;
  color: white;
  font-size: 1rem;
  cursor: pointer;
}

.hero-right button:hover {
  background: #4a56e2;
}

.hero-left {
  flex: 1 1 45%;
  text-align: center;
}

.hero-left img {
  max-min: 10px;
  border-radius: 12px;
  box-shadow: 0 5px 20px rgba(0,0,0,0.3);
}
.stats-table {
  overflow-x: auto;
  background: #1c1c1c;
  border-radius: 12px;
  padding: 1rem;
  margin: 2rem auto;
  max-width: 100%;
}

.stats-table table {
  width: 100%;
  border-collapse: collapse;
  color: white;
  font-size: 0.95rem;
}

.stats-table td:not(.collection-cell) {
  text-align: right;
}


.stats-table thead {
  background: #121212;
}

.collection-cell {
  display: flex;
  align-items: center;
  gap: 0.6rem;
}

.collection-cell img {
  width: 32px;
  height: 32px;
  border-radius: 8px;
}

.green {
  color: #2ecc71;
  font-weight: bold;
}

.red {
  color: #e74c3c;
  font-weight: bold;
}

  </style>
</head>
<body>
  <button class="menu-button" onclick="toggleMenu()">☰</button>
<section id="profile-section">
  <div id="sidebar" class="sidebar">
   <div class="profile-menu">
    <div class="profile-header">
      <img src="https://via.placeholder.com/80" alt="User Avatar">
      <h2 id="profileUserName">NFTV</h2>
    </div>
    <ul class="profile-links">
  <!-- isi sekarang -->
      <ul class="profile-links">
  <li><a href="#dashboard-section" onclick="scrollToSection('dashboard-section'); return false;">🏠 Dashboard</a></li>
  <li><a href="#edit-profile-section" onclick="scrollToSection('edit-profile-section'); return false;">✏️ Edit Profile</a></li>
  <li><a href="#my-nfts-section" onclick="scrollToSection('my-nfts-section'); return false;">🖼️ My NFTs</a></li>
  <li><a href="#settings-section" onclick="scrollToSection('settings-section'); return false;">⚙️ Settings</a></li>
  <li><a href="#explore-section" onclick="scrollToSection('explore-section'); return false;">🧾 Explore</a></li>
  <li><a href="#profile-section" onclick="scrollToSection('profile-section'); return false;">🚀 Profile</a></li>
  <li><a href="#marketplace-section" onclick="scrollToSection('marketplace-section'); return false;">🎨 Marketplace</a></li>
  <li><a href="#sosmed-section" onclick="scrollToSection('sosmed-section'); return false;">🤖 MeTiS ART</a></li>
  <li><a href="#collectibles-section" onclick="scrollToSection('collectibles-section'); return false;">✍️ Collectibles</a></li>
  <li><a href="#soundart-section" onclick="scrollToSection('soundart-section'); return false;">🧠 Sound ARTc</a></li>
  <li><a href="#gv-game-section" onclick="scrollToSection('gv-game-section'); return false;">🔗 GV-game virtual</a></li>
  <li><a href="#create-section" onclick="scrollToSection('create-section'); return false;">🧪 Create</a></li>
  <li><a href="#" onclick="toggleLogin(); return false;">🔐 Login</a></li>
  <li><a href="#" onclick="logout(); return false;">🚪 Logout</a></li>
</ul>

  </div>
</section>
<header>
  <div class="logo">NFTVerse</div>
  <nav class="navbar">
    <ul>
      <li><a href="#" onclick="toggleLogin()">🛠</a></li>
      <li><a href="#" onclick="toggleLogin()">Login 🔐</a></li>
    </ul>

    <input
      type="text"
      id="searchInput"
      placeholder="Search NFTs..."
      style="padding: 0.3rem 0.8rem; border-radius: 5px; border: none; margin-left: 1rem; background: #222; color: #fff;"
    />
    <button class="wallet-btn" id="walletButton" onclick="connectWallet()">Connect Wallet</button>

    <div id="walletInfo" class="wallet-info-slider">
      <p><strong>Wallet:</strong> <span id="walletAddress">-</span></p>
      <p><strong>Saldo:</strong> <span id="walletBalance">-</span> ETH</p>
      <p><strong>Total NFT:</strong> <span id="nftCount">-</span></p>
    </div>
  </nav>
</header>

<!-- Wallet Sidebar (slide-in) -->
<div
  class="login-box"
  id="RBox"
  style="display: none; position: fixed; top: 60px; right: 0; width: 250px; background: #222; border-left: 1px solid #444; z-index: 999;"
>
  <h2>Wallet Info</h2>
  <form id="walletSidebarForm">
    <p><strong>Wallet:</strong> <span id="sidebarWalletAddress">-</span></p>
    <p><strong>Saldo:</strong> <span id="sidebarWalletBalance">-</span> ETH</p>
    <p><strong>Total NFT:</strong> <span id="sidebarNftCount">-</span></p>
    <button class="logout-btn" onclick="logout()" type="button">Logout</button>
  </form>
</div>

<!-- Login Box -->
<div id="loginBox" class="login-box">
  <h2>Login</h2>
  <form id="loginForm">
    <input type="email" id="email" placeholder="Email" required />
    <input type="password" id="password" placeholder="Password" required />
    <button type="submit" class="login-btn">Login</button>
    <p id="message" class="message"></p>
  </form>
</div>

<!-- User Menu After Login -->
<div id="userMenu" class="user-menu" style="display: none;">
  <h3>Welcome, <span id="userName">User</span></h3>
  <button class="logout-btn" onclick="logout()">Logout</button>
</div>

<section id="dashboard-section">
  <h2 class="section-title">📊 Trending Collections</h2>
  <div class="stats-table">
    <table>
      <thead>
        <tr>
          <th>#</th>
          <th>Koleksi</th>
          <th>Volume</th>
          <th>Change</th>
          <th>Floor</th>
          <th>Owners</th>
        </tr>
      </thead>
      <tbody>
        <tr>
  <td>6</td>
  <td class="collection-cell">
    <img src="https://via.placeholder.com/32" alt="Avatar">
    <span>TemplateNFT</span>
  </td>
  <td>5.80 ETH</td>
  <td class="green">+0.80%</td>
  <td>57.23</td>
  <td>8.2</td>
     </tr>
        <tr>
          <td>1</td>
          <td class="collection-cell">
            <img src="https://via.placeholder.com/32" alt="Avatar">
            <span>Azuki</span>
          </td>
          <td>12.3 ETH</td>
          <td class="green">+8.5%</td>
          <td>0.85</td>
          <td>7.2K</td>
        </tr>
        <tr>
          <td>2</td>
          <td class="collection-cell">
            <img src="https://via.placeholder.com/32" alt="Avatar">
            <span>Bored Ape</span>
          </td>
          <td>9.2 ETH</td>
          <td class="red">-2.3%</td>
          <td>1.15</td>
          <td>6.1K</td>
        </tr>
	<tr>
  	<td>3</td>
  	<td class="collection-cell">
    	<img src="https://via.placeholder.com/32" alt="Avatar">
    	<span>CloneX</span>
  	</td>
  	<td>6.4 ETH</td>
  	<td class="green">+12%</td>
  	<td>0.42</td>
  	<td>5.4K</td>
	<tr>
  	<td>4</td>
  	<td class="collection-cell">
    	<img src="https://via.placeholder.com/32" alt="Avatar">
    	<span>CleX</span>
  	</td>
  	<td>6.4 ETH</td>
  	<td class="Orange">+12.000%</td>
  	<td>12.000</td>
  	<td>100.80K</td>
	<tr>
  	<td>5</td>
  	<td class="collection-cell">
    	<img src="https://via.placeholder.com/32" alt="Avatar">
    	<span>OneX</span>
  	</td>
  	<td>6.4 ETH</td>
  	<td class="Blue">-10.000%</td>
  	<td>10.000</td>
  	<td>50.4K</td>
</tr>

        <!-- Tambahkan baris lainnya jika mau -->
      </tbody>
    </table>
  </div>
</section>

</section>
<section class="hero">
  <div class="hero-left">
    <img src="https://via.placeholder.com/400x300.png?text=NFT+Preview" alt="Preview NFT">
  </div>
  <div class="hero-right">
    <h1>Discover, Collect & Sell Extraordinary NFTs</h1>
    <p>Join the decentralized marketplace for unique digital assets</p>
    <button>Explore Marketplace</button>
  </div>
</section>


<!-- Main Create Section -->
<section id="create-section">
  <h2 class="section-title">Create Your Own NFT</h2>
  <p>Start creating your own NFTs and share them with the world.</p>

  <form id="createForm" class="create-form">
    <label for="nftTitle">NFT Title</label>
    <input type="text" id="nftTitle" placeholder="Enter NFT Title" required />

    <label for="nftDescription">Description</label>
    <textarea id="nftDescription" placeholder="Enter NFT Description" required></textarea>

    <label for="nftImage">NFT Image</label>
    <input type="file" id="nftImage" accept="image/*" required />

    <label for="nftPrice">Price (ETH)</label>
    <input type="number" id="nftPrice" placeholder="Enter Price in ETH" required step="0.01" />

    <button type="submit" id="createNFTButton" class="create-btn">Create NFT</button>
  </form>

  <!-- Feedback Message -->
  <div id="createMessage" class="feedback-message"></div>

<script>
  async function ambilPostinganInstagram() {
    const token = document.getElementById('igAccessToken').value.trim();
    const igResult = document.getElementById('igResult');

    if (!token) {
      alert('Mohon masukkan access token Instagram kamu.');
      return;
    }

    try {
      const response = await fetch(`https://graph.instagram.com/me/media?fields=id,caption,media_url,permalink,timestamp&access_token=${token}`);
      const data = await response.json();

      if (!data.data || data.data.length === 0) {
        igResult.innerHTML = '<p>Tidak ada data yang ditemukan.</p>';
        return;
      }

      const post = data.data[0];
      igResult.innerHTML = `
        <h3>📸 Postingan Terbaru:</h3>
        <img src="${post.media_url}" alt="IG Photo" style="max-width: 300px; border-radius: 10px;">
        <p><strong>Caption:</strong> ${post.caption || '(tidak ada caption)'}</p>
        <p><strong>URL:</strong> <a href="${post.permalink}" target="_blank">${post.permalink}</a></p>
        <p><strong>Tanggal Upload:</strong> ${new Date(post.timestamp).toLocaleString()}</p>
      `;

      // Autofill ke form NFT jika ingin langsung buat NFT
      const titleInput = document.getElementById("nftTitle");
      const descInput = document.getElementById("nftDescription");

      if (titleInput && descInput) {
        titleInput.value = post.caption || "Instagram Post";
        descInput.value = `Diposting pada ${new Date(post.timestamp).toLocaleString()} dari akun Instagram.`;
      }

    } catch (err) {
      console.error(err);
      igResult.innerHTML = '<p style="color:red;">Gagal mengambil data. Periksa access token kamu.</p>';
    }
  }
</script>

<!-- Styles for the Create Section -->
<style>
  /* Create Section Styles */
  #create-section {
    background-color: #1c1c1c;
    padding: 3rem 2rem;
    color: white;
    border-radius: 10px;
    margin: 3rem auto;
    width: 80%;
    max-width: 900px;
    text-align: center;
  }

  .create-form {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
    justify-content: center;
    align-items: center;
    margin-top: 2rem;
  }

  .create-form label {
    font-size: 1.1rem;
    color: #ccc;
    align-self: flex-start;
  }

  .create-form input,
  .create-form textarea {
    width: 100%;
    padding: 0.8rem;
    border-radius: 8px;
    border: 1px solid #444;
    background-color: #2a2a2a;
    color: white;
    font-size: 1rem;
  }

  .create-form input[type="file"] {
    padding: 0.5rem;
  }

  .create-form textarea {
    min-height: 100px;
    resize: vertical;
  }

  .create-form input:focus,
  .create-form textarea:focus {
    outline: none;
    border-color: #5c6df2;
  }

  .create-btn {
    background-color: #5c6df2;
    color: white;
    border: none;
    padding: 1rem 2rem;
    border-radius: 8px;
    font-size: 1.1rem;
    cursor: pointer;
    transition: background-color 0.3s;
  }

  .create-btn:hover {
    background-color: #4a56e2;
  }

  .feedback-message {
    margin-top: 2rem;
    font-size: 1rem;
    color: #ff6b6b;
  }

  /* Success Message Style */
  .feedback-message.success {
    color: #2ecc71;
  }
</style>

<!-- JavaScript for Handling the Form -->
<script>
  document.getElementById("createForm").addEventListener("submit", function (e) {
    e.preventDefault();

    const nftTitle = document.getElementById("nftTitle").value;
    const nftDescription = document.getElementById("nftDescription").value;
    const nftImage = document.getElementById("nftImage").files[0];
    const nftPrice = document.getElementById("nftPrice").value;
    const messageDiv = document.getElementById("createMessage");

    // Basic validation
    if (!nftTitle || !nftDescription || !nftImage || !nftPrice) {
      messageDiv.className = 'feedback-message';
      messageDiv.textContent = "Please fill in all fields.";
      return;
    }

    // Call function to simulate NFT creation
    handleCreateNFT(nftTitle, nftDescription, nftImage, nftPrice, messageDiv);
  });

  // Simulasi pembuatan NFT (bisa diganti dengan logic asli)
  function handleCreateNFT(title, description, image, price, messageDiv) {
    console.log('NFT Created:', { title, description, image, price });

    setTimeout(() => {
      messageDiv.className = 'feedback-message success';
      messageDiv.textContent = "✅ NFT Created Successfully!";
    }, 1000);
  }

  // Menampilkan sidebar wallet
  function showWalletSidebar(address, balance, nftCount) {
    const rbox = document.getElementById("RBox");
    rbox.style.display = "block";
    setTimeout(() => rbox.classList.add("active"), 10);
    document.getElementById("sidebarWalletAddress").textContent = address;
    document.getElementById("sidebarWalletBalance").textContent = balance;
    document.getElementById("sidebarNftCount").textContent = nftCount;
  }

  // Menyembunyikan sidebar wallet
  function hideWalletSidebar() {
    const rbox = document.getElementById("RBox");
    rbox.classList.remove("active");
    setTimeout(() => rbox.style.display = "none", 400);
  }
</script>
<section id="dashboard-section">
  
  <!-- Tombol Ambil Postingan Instagram -->
  <button id="loadIgPostsButton">Ambil Postingan Instagram</button>
  
  <!-- Grid Postingan Instagram -->
  <div id="instagram-posts" style="
      display:grid;
      grid-template-columns:repeat(auto-fit,minmax(200px,1fr));
      gap:10px;
      margin-top:15px;">
  </div>
  <!-- IG → NFT -->
<div class="instagram-section" style="margin-top:20px;">
  <h3>Pilih Postingan Instagram untuk NFT</h3>
  <button id="loadIgPostsButton">Ambil Postingan Instagram</button>

  <div id="instagram-posts" style="
      display:grid;
      grid-template-columns:repeat(auto-fit,minmax(200px,1fr));
      gap:10px;
      margin-top:15px;">
  </div>
</div>


  <!-- Form Mint NFT -->
  <div class="nft-mint-box" style="margin-top:20px;padding:15px;border:1px solid #ccc;border-radius:10px;">
    <h3>Mint NFT Baru</h3>
    <input type="text" id="nftName" placeholder="NFT Name" style="display:block;margin-bottom:10px;width:100%;">
    <input type="text" id="nftDescription" placeholder="NFT Description" style="display:block;margin-bottom:10px;width:100%;">
    <input type="file" id="nftImage" accept="image/*" style="display:block;margin-bottom:10px;">
    <button id="mintNftButton">Mint NFT</button>

    <button id="loadNftsButton">Load My NFTs</button>
    <div id="my-nft-list"></div>

</section>


<!-- ===== NFT List ===== -->
<div class="nft-list-box">
  <h3>NFT Saya</h3>
  <button onclick="loadMyNFTs()">Load My NFTs</button>
  <div id="my-nft-list" class="nft-grid"></div>
</div>

  <h2 class="section-title">📊 Dashboard</h2>
  <div class="dashboard-grid">
    <div class="dashboard-card">
      <h3>Total NFT</h3>
      <p id="dashboardNftCount">-</p>
    </div>
    <div class="dashboard-card">
      <h3>Saldo Wallet</h3>
      <p id="dashboardBalance">- ETH</p>
    </div>
    <div class="dashboard-card">
      <h3>Alamat Wallet</h3>
      <p id="dashboardWallet">-</p>
    </div>
  </div>
</section>

  <section id="collections-section">
    <h2 class="section-title">Trending NFTs</h2>
    <div class="dashboard-grid">
      <div class="dashboard-card">
        <img src="https://via.placeholder.com/100x100.png?text=NFT+1" alt="NFT 1">
        <h3>Pixel Ape #001</h3>
        <h6><p>Price: 1.2 ETH</p><h/6>
      </div>
      <div class="dashboard-grid">
    <div class="dashboard-grid">
      <div class="dashboard-card">
        <img src="https://via.placeholder.com/100x100.png?text=NFT+2" alt="NFT 2">
        <h3>Cyber Cat</h3>
        <h6><p>Price: 0.8 ETH</p><h6>
      </div>
      <div class="dashboard-grid">
    <div class="dashboard-grid">
      <div class="dashboard-card">
        <img src="https://via.placeholder.com/100x100.png?text=NFT+3" alt="NFT 3">
        <h6>Galaxy Dragon</h6>
         <h6><p>Price: 2.5 ETH</p></h6>
      </div>
    </div>
  </section>

<section id="metis-instagram-api" style="padding: 3rem 2rem; background: #1a1a1a; color: white;">
  <h2 class="section-title">🔗 MeTiS ART - Ambil Postingan Instagram</h2>
  <p>Gunakan akses token akun Instagram Bisnis kamu untuk mengambil data asli foto.</p>

  <input type="text" id="igAccessToken" placeholder="Masukkan Access Token Instagram" style="padding: 10px; width: 100%; max-width: 500px; margin-bottom: 1rem; border-radius: 5px; border: 1px solid #444; background: #222; color: white;">
  <button class="create-btn" onclick="ambilPostinganInstagram()">Ambil Postingan Terbaru</button>

  <div id="igResult" style="margin-top: 2rem; text-align: left;"></div>
</section>

<section id="sosmed-section" style="padding: 3rem 2rem; background: #1c1c1c; color: white;">
  <h2 class="section-title">Sosial Media ART</h2>

  <div class="section" style="text-align:center; margin-top:20px;">
    <button class="create-btn" onclick="toggleMenu()">Tampilkan Menu Sosial Media</button>
    <button class="create-btn" onclick="toggleForm()">Tambah Media Sosial</button>

    <ul id="sosmed-menu" style="display:none; list-style-type:none; padding:0; margin-top:20px;">
      <li style="margin: 8px 0;">
        <a href="https://www.instagram.com/namapengguna" target="_blank" class="wallet-btn">Instagram</a>
      </li>
      <li style="margin: 8px 0;">
        <a href="https://www.facebook.com/namapengguna" target="_blank" class="wallet-btn">Facebook</a>
      </li>
    </ul>
  </div>

  <div class="form-section" id="form-section" style="margin-top:20px; display:none; text-align:center;">
    <h3>Tambah Sosial Media Baru</h3>
    <input type="text" id="nama" placeholder="Nama Sosial Media" style="padding:8px; margin:5px; width:200px; border-radius:5px; border:1px solid #ccc;">
    <input type="text" id="link" placeholder="URL (https://...)" style="padding:8px; margin:5px; width:200px; border-radius:5px; border:1px solid #ccc;">
    <button class="create-btn" onclick="tambahSosmed()">Tambah</button>
  </div>
</section>

  <!-- Dummy section lain -->
  <section id="about-section">
    <h2>Tentang</h2>
    <p>bagian tentang halaman NFTVerse.</p>
  </section>

  <section id="contact-section">
    <h2>Kontak</h2>
    <p>Hubungi saya di: NFTVerseemail@example.com</p>
  </section>

<!-- Placeholder sections (paste sebelum footer) -->
<section id="edit-profile-section" style="padding:2rem; background:#1c1c1c; color:white;">
  <h2>Edit Profile</h2>
  <p>Form edit profil akan muncul di sini.</p>
</section>

<section id="my-nfts-section" style="padding:2rem; background:#111; color:white;">
  <h2>My NFTs</h2>
  <p>Daftar NFT milik user akan tampil di sini.</p>
</section>

<section id="settings-section" style="padding:2rem; background:#1c1c1c; color:white;">
  <h2>Settings</h2>
  <p>Pengaturan akun dan preferensi.</p>
</section>

<section id="explore-section" style="padding:2rem; background:#111; color:white;">
  <h2>Explore</h2>
  <p>Bagian eksplorasi koleksi dan discover.</p>
</section>

<section id="marketplace-section" style="padding:2rem; background:#1c1c1c; color:white;">
  <h2>Marketplace</h2>
  <p>Marketplace NFTVerse.</p>
</section>

<section id="collectibles-section" style="padding:2rem; background:#111; color:white;">
  <h2>Collectibles</h2>
  <p>Koleksi digital dan memorabilia.</p>
</section>

<section id="soundart-section" style="padding:2rem; background:#1c1c1c; color:white;">
  <h2>Sound ARTc</h2>
  <p>Audio NFTs dan karya suara.</p>
</section>

<section id="gv-game-section" style="padding:2rem; background:#111; color:white;">
  <h2>GV-game virtual</h2>
  <p>Detail mini-game / integrasi game virtual.</p>
</section>

  <footer>
    © 2025 NFTVerse. All rights reserved.
  </footer>

<script type="module">
  import { Web3Storage } from 'https://unpkg.com/web3.storage/dist/bundle.esm.min.js';
  import { ethers } from "https://cdn.jsdelivr.net/npm/ethers@5.7.2/dist/ethers.esm.min.js";

  // ✅ Ganti dengan token Web3.Storage kamu
  const token = 'ISI_TOKEN_WEB3_STORAGE_KAMU_DI_SINI';
  const client = new Web3Storage({ token });

  // ✅ Ganti dengan alamat dan ABI kontrak dari Remix
  const contractAddress = "ALAMAT_KONTRAK_KAMU";
  const contractABI = [ /* paste ABI dari Remix di sini, dalam format array JSON */ ];

  // ✅ Upload gambar ke IPFS
  async function uploadToIPFS(file) {
    const cid = await client.put([file], { wrapWithDirectory: false });
    return `https://${cid}.ipfs.w3s.link/${file.name}`;
  }

  // ✅ Upload metadata ke IPFS
  async function uploadMetadata(metadata) {
    const blob = new Blob([JSON.stringify(metadata)], { type: 'application/json' });
    const file = new File([blob], "metadata.json", { type: "application/json" });
    const cid = await client.put([file], { wrapWithDirectory: false });
    return `ipfs://${cid}/metadata.json`;
  }

  // ✅ Kirim transaksi mint NFT ke smart contract
  async function mintNFT(tokenURI) {
    if (typeof window.ethereum === 'undefined') {
      alert('MetaMask tidak ditemukan!');
      return;
    }

    const provider = new ethers.providers.Web3Provider(window.ethereum);
    const signer = provider.getSigner();
    const contract = new ethers.Contract(contractAddress, contractABI, signer);

    const to = await signer.getAddress();
    const tx = await contract.mint(to, tokenURI);
    await tx.wait();

    return tx.hash;
  }

  // ✅ Event handler untuk form submit
  document.getElementById("createForm").addEventListener("submit", async function (e) {
    e.preventDefault();

    const title = document.getElementById("nftTitle").value;
    const description = document.getElementById("nftDescription").value;
    const imageFile = document.getElementById("nftImage").files[0];
    const price = document.getElementById("nftPrice").value;
    const messageDiv = document.getElementById("createMessage");

    if (!title || !description || !imageFile || !price) {
      messageDiv.className = 'feedback-message';
      messageDiv.textContent = "Mohon lengkapi semua data NFT.";
      return;
    }

    try {
      messageDiv.className = 'feedback-message';
      messageDiv.textContent = "1/3: Mengunggah gambar ke IPFS...";
      const imageUrl = await uploadToIPFS(imageFile);

      const metadata = {
        name: title,
        description: description,
        image: imageUrl,
        price: `${price} ETH`
      };

      messageDiv.textContent = "2/3: Mengunggah metadata ke IPFS...";
      const tokenURI = await uploadMetadata(metadata);

      messageDiv.textContent = "3/3: Memproses mint NFT ke blockchain...";
      const txHash = await mintNFT(tokenURI);

      messageDiv.className = 'feedback-message success';
      messageDiv.innerHTML = `✅ NFT berhasil dibuat!<br>🔗 TX: <a href="https://sepolia.etherscan.io/tx/${txHash}" target="_blank">${txHash}</a>`;

    } catch (err) {
      console.error(err);
      messageDiv.className = 'feedback-message';
      messageDiv.textContent = "❌ Terjadi kesalahan saat membuat NFT.";
    }
  });
</script>

<script type="module">
  import { Web3Storage } from 'https://unpkg.com/web3.storage/dist/bundle.esm.min.js';

  const token = 'ISI_API_TOKEN_KAMU_DI_SINI'; // Ganti dengan token Web3.Storage kamu
  const client = new Web3Storage({ token });

  document.getElementById("createForm").addEventListener("submit", async function (e) {
    e.preventDefault();

    const nftTitle = document.getElementById("nftTitle").value;
    const nftDescription = document.getElementById("nftDescription").value;
    const nftImage = document.getElementById("nftImage").files[0];
    const nftPrice = document.getElementById("nftPrice").value;
    const messageDiv = document.getElementById("createMessage");

    // Validasi form
    if (!nftTitle || !nftDescription || !nftImage || !nftPrice) {
      messageDiv.className = 'feedback-message';
      messageDiv.textContent = "Please fill in all fields.";
      return;
    }

    try {
      messageDiv.className = 'feedback-message';
      messageDiv.textContent = "Uploading image to IPFS...";

      // Upload gambar ke IPFS
      const cid = await client.put([nftImage], {
        name: nftTitle,
        wrapWithDirectory: false
      });

      const imageUrl = `https://${cid}.ipfs.w3s.link/${nftImage.name}`;
      console.log("Image uploaded to:", imageUrl);

      // Tampilkan info sukses
      messageDiv.className = 'feedback-message success';
      messageDiv.innerHTML = `✅ NFT Created and Image Uploaded to IPFS!<br><a href="${imageUrl}" target="_blank">View Image</a>`;

      // Contoh metadata NFT
      console.log('NFT Metadata:', {
        title: nftTitle,
        description: nftDescription,
        image: imageUrl,
        price: nftPrice
      });

    } catch (error) {
      console.error("Upload failed:", error);
      messageDiv.className = 'feedback-message';
      messageDiv.textContent = "❌ Upload to IPFS failed.";
    }
  });
</script>

<script>
  function toggleMenu() {
    const menu = document.getElementById("sosmed-menu");
    const isVisible = menu.style.display === "block";
    menu.style.display = isVisible ? "none" : "block";
  }

  function toggleForm() {
    const form = document.getElementById("form-section");
    const isVisible = form.style.display === "block";
    form.style.display = isVisible ? "none" : "block";
  }

  function tambahSosmed() {
    const nama = document.getElementById("nama").value.trim();
    const link = document.getElementById("link").value.trim();

    if (!nama || !link) {
      alert("Mohon isi nama dan link sosial media.");
      return;
    }

    const ul = document.getElementById("sosmed-menu");

    const li = document.createElement("li");
    li.style.margin = "8px 0";

    const a = document.createElement("a");
    a.href = link;
    a.target = "_blank";
    a.textContent = nama;
    a.className = "wallet-btn";

    li.appendChild(a);
    ul.appendChild(li);

    // Pastikan menu ditampilkan setelah menambahkan
    ul.style.display = "block";

    // Reset input form
    document.getElementById("nama").value = "";
    document.getElementById("link").value = "";
  }
</script>

<script>
  function toggleMenu() {
    const sidebar = document.getElementById('sidebar');
    sidebar.classList.toggle('active');
  }

  function toggleLogin() {
    const loginBox = document.getElementById("loginBox");
    loginBox.style.display = loginBox.style.display === "block" ? "none" : "block";
  }

  document.getElementById("loginForm").addEventListener("submit", function (e) {
    e.preventDefault();
    const email = document.getElementById("email").value;
    const password = document.getElementById("password").value;
    const message = document.getElementById("message");

    if (email === "yourexsimpel@gmail.com" && password === "123456") {
      document.getElementById("loginBox").style.display = "none";
      document.getElementById("userMenu").style.display = "block";
      document.getElementById("userName").textContent = email.split('@')[0];
      message.className = 'message success';
      message.textContent = "Login successful!";
      alert('Login successful');
    } else {
      message.className = 'message';
      message.textContent = "Invalid email or password.";
    }
  });

  function logout() {
    const confirmLogout = confirm("Are you sure you want to logout?");
    if (!confirmLogout) return;
    localStorage.removeItem('userLoggedIn');
    localStorage.removeItem('userEmail');
    const message = document.getElementById("message");
    message.className = 'message success';
    message.textContent = "You have logged out successfully!";
    document.getElementById("userMenu").style.display = "none";
    document.getElementById("loginBox").style.display = "block";
    document.getElementById("userName").textContent = "User";
    alert('Logout successful');
  }

  async function connectWallet() {
    if (typeof window.ethereum !== 'undefined') {
      const provider = new ethers.BrowserProvider(window.ethereum);
      try {
        const accounts = await provider.send("eth_requestAccounts", []);
        const userAccount = accounts[0];

        document.getElementById("walletButton").textContent =
          `Connected: ${userAccount.slice(0, 6)}...${userAccount.slice(-4)}`;
        document.getElementById("walletAddress").textContent = userAccount;

        const balance = await provider.getBalance(userAccount);
        const ethBalance = ethers.utils.formatEther(balance);
        document.getElementById("walletBalance").textContent = parseFloat(ethBalance).toFixed(4);

        let nftCount = "N/A";
        try {
          const contract = new ethers.Contract(contractAddress, contractABI, provider);
          nftCount = await contract.balanceOf(userAccount);
        } catch {}

        showWalletSidebar(userAccount, parseFloat(ethBalance).toFixed(4), nftCount);

      } catch (error) {
        console.error('Error connecting wallet:', error);
        alert('Wallet connection failed');
      }
    } else {
      alert('MetaMask or Ethereum-based wallet not found');
    }
  }

  function showWalletSidebar(address, balance, nftCount) {
    const rbox = document.getElementById("RBox");
    rbox.style.display = "block";
    setTimeout(() => rbox.classList.add("active"), 10);
    document.getElementById("sidebarWalletAddress").textContent = address;
    document.getElementById("sidebarWalletBalance").textContent = balance;
    document.getElementById("sidebarNftCount").textContent = nftCount;
  }

  function hideWalletSidebar() {
    const rbox = document.getElementById("RBox");
    rbox.classList.remove("active");
    setTimeout(() => rbox.style.display = "none", 400);
  }
</script>

<script>
  async function ambilPostinganInstagram() {
    const token = document.getElementById('igAccessToken').value.trim();
    const igResult = document.getElementById('igResult');

    if (!token) {
      alert('Mohon masukkan access token Instagram kamu.');
      return;
    }

    try {
      const response = await fetch(`https://graph.instagram.com/me/media?fields=id,caption,media_url,permalink,timestamp&access_token=${token}`);
      const data = await response.json();

      if (!data.data || data.data.length === 0) {
        igResult.innerHTML = '<p>Tidak ada data yang ditemukan.</p>';
        return;
      }

      const post = data.data[0];
      igResult.innerHTML = `
        <h3>📸 Postingan Terbaru:</h3>
        <img src="${post.media_url}" alt="IG Photo" style="max-width: 300px; border-radius: 10px;">
        <p><strong>Caption:</strong> ${post.caption || '(tidak ada caption)'}</p>
        <p><strong>URL:</strong> <a href="${post.permalink}" target="_blank">${post.permalink}</a></p>
        <p><strong>Tanggal Upload:</strong> ${new Date(post.timestamp).toLocaleString()}</p>
      `;

      // Autofill ke form NFT jika ingin langsung buat NFT
      const titleInput = document.getElementById("nftTitle");
      const descInput = document.getElementById("nftDescription");

      if (titleInput && descInput) {
        titleInput.value = post.caption || "Instagram Post";
        descInput.value = `Diposting pada ${new Date(post.timestamp).toLocaleString()} dari akun Instagram.`;
      }

    } catch (err) {
      console.error(err);
      igResult.innerHTML = '<p style="color:red;">Gagal mengambil data. Periksa access token kamu.</p>';
    }
  }
</script>
<script>
  function scrollToSection(id) {
    const el = document.getElementById(id);
    if (el) {
      // offset untuk header fixed (sesuaikan 60 jika header tingginya lain)
      const offset = 60;
      const top = el.getBoundingClientRect().top + window.scrollY - offset;
      window.scrollTo({ top, behavior: 'smooth' });
    } else {
      console.warn('Section "' + id + '" tidak ditemukan.');
      alert('Section "' + id + '" belum dibuat. Silakan tambahkan section dengan id: ' + id);
    }
  }
</script>
<script src="ui.js"></script>
<script src="instagram.js"></script>

<!-- Library ethers.js dan Web3.Storage -->
<script src="https://cdn.jsdelivr.net/npm/ethers@5.7.2/dist/ethers.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/web3.storage/dist/bundle.esm.min.js"></script>

<!-- File NFT.js -->
<script src="nft.js"></script>
<script src="https://cdn.jsdelivr.net/npm/ethers@5.7.2/dist/ethers.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/web3.storage/dist/bundle.esm.min.js"></script>
<script src="ipfs.js"></script>
<script src="nft.js"></script>

<script src="https://cdn.jsdelivr.net/npm/ethers@5.7.2/dist/ethers.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/web3.storage/dist/bundle.esm.min.js"></script>

<script src="ui.js"></script>
<script src="wallet.js"></script>
<script src="ipfs.js"></script>
<script src="nft.js"></script>
<script src="instagram.js"></script>
<script src="app.js"></script>


<script src="ui.js"></script>
<script src="wallet.js"></script>
<script src="ipfs.js"></script>
<script src="nft.js"></script>
<script src="instagram.js"></script>
<script src="app.js"></script>

</body>

</html>